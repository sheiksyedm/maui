# PR Review: #32465 - GraphicsView line stroke rendering inconsistent on Android

**Date:** 2026-02-05 | **Issue:** [#32465](https://github.com/dotnet/maui/issues/32465) | **PR:** None

## ‚è≥ Status: IN PROGRESS

| Phase | Status |
|-------|--------|
| Pre-Flight | ‚úÖ COMPLETE |
| üß™ Tests | ‚úÖ COMPLETE |
| üö¶ Gate | ‚úÖ PASSED |
| üîß Fix | ‚ñ∂Ô∏è IN PROGRESS (Round 2: Cross-Pollination) |
| üìã Report | ‚è≥ PENDING |

---

<details>
<summary><strong>üìã Issue Summary</strong></summary>

When using GraphicsView with a custom IDrawable implementation to draw grid lines, the stroke rendering on Android looks visually different compared to other platforms like Windows. The lines appear thinner or inconsistent even when the same StrokeSize and color are applied.

**Steps to Reproduce:**
1. Download and run the attached sample project on Android
2. Observe grid lines rendered by GraphicsView
3. Compare with Windows rendering

**Sample Project:** [BorderSample.zip](https://github.com/user-attachments/files/23446791/BorderSample.zip)

**Expected Behavior:**
Grid lines should have consistent stroke thickness and appearance across all platforms when using the same StrokeSize and color.

**Actual Behavior:**
On Android, the grid lines appear visually thinner or inconsistent.

**Platforms Affected:**
- [ ] iOS
- [x] Android
- [ ] Windows
- [ ] MacCatalyst

**Regression:** Not sure, did not test other versions

**Verified:** Yes - Confirmed in MAUI 9.0.0, 9.0.120, 10.0.0-preview.1, and 10.0.0-rc.2 on Android

</details>

<details>
<summary><strong>üß™ Tests</strong></summary>

**Status**: ‚úÖ COMPLETE

- [x] Tests created for issue
- [x] Tests reproduce the issue
- [x] Tests follow naming convention (`Issue32465`)

**Test Files:**
- HostApp: `src/Controls/tests/TestCases.HostApp/Issues/Issue32465.cs`
- NUnit: `src/Controls/tests/TestCases.Shared.Tests/Tests/Issues/Issue32465.cs`

**Test Method:** `GraphicsViewStrokeRenderingConsistent`
**Category:** `UITestCategories.GraphicsView`
**Verification:** Tests verified to FAIL (bug reproduced) - baseline snapshot not yet created
**Test Type:** Screenshot-based visual test

</details>

<details>
<summary><strong>üö¶ Gate - Test Verification</strong></summary>

**Status**: ‚úÖ PASSED

- [x] Tests FAIL (bug reproduced)

**Result:** PASSED ‚úÖ

**Verification Mode:** Issue-only (no fix exists yet)
**Platform Tested:** Android
**Outcome:** Tests verified to FAIL in Phase 2 - bug successfully reproduced

</details>

<details>
<summary><strong>üîß Fix Candidates</strong></summary>

**Status**: ‚è≥ IN PROGRESS (Round 1 complete, Round 2: Cross-Pollination starting)

| # | Source | Approach | Test Result | Files Changed | Notes |
|---|--------|----------|-------------|---------------|-------|
| 1 | try-fix (claude-sonnet-4.5) | Scale stroke width by DisplayScale in PlatformCanvas | ‚úÖ PASS | `PlatformCanvas.cs` (+1/-1) | Simple 1-line change: multiply stroke size by DisplayScale in setter |
| 2 | try-fix (claude-opus-4.5) | Store DisplayScale in PlatformCanvasState | ‚úÖ PASS | `PlatformCanvasState.cs` (+9/-2), `PlatformCanvasStateService.cs` (+2/-1) | Encapsulates scaling in state object, applies in paint setters |
| 3 | try-fix (gpt-5.2) | Use Canvas.DrawLine instead of DrawPath | ‚ùå FAIL | `PlatformCanvas.cs` | 18.84% visual difference - too disruptive |
| 4 | try-fix (gpt-5.2-codex) | Scale native Canvas in PlatformGraphicsView.Draw | ‚ùå FAIL | `PlatformGraphicsView.cs` (+4/-1) | Test filter didn't match - could not validate |
| 5 | try-fix (gemini-3-pro-preview) | Just-In-Time stroke scaling before each draw call | ‚úÖ PASS | `PlatformCanvas.cs` (+45/-6) | Scales paint.StrokeWidth by DisplayScale at draw-time, restores after |

**Round 1 Complete:** All 5 models ran try-fix sequentially

**Round 2: Cross-Pollination**

Asking each model if they have new ideas after seeing results...

| Model | Round 2 Response |
|-------|------------------|
| claude-sonnet-4.5 | [PENDING] |
| claude-opus-4.5 | [PENDING] |
| gpt-5.2 | **New idea:** Scale Android `Paint.StrokeWidth` by `DisplayScale` AND by the current canvas transform scale (from native canvas matrix / `PlatformCanvasState` scale), so strokes match other platforms under `ICanvas.Scale(...)` / transforms. **Try-fix result:** ‚ùå FAIL (could not validate; `Issue32465` test filter matched 0 tests in this checkout). |
| gpt-5.2-codex | [PENDING] |
| gemini-3-pro-preview | [PENDING] |

**Exhausted:** Not yet (Round 2 in progress)
**Selected Fix:** [PENDING - awaiting cross-pollination results]

</details>

---

**Next Step:** Complete cross-pollination, select best fix, proceed to Phase 5 (Report).
